datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Job {
  id          String      @id @default(auto()) @map("_id") @db.ObjectId
  companyName String
  title       String
  type        String
  location    String
  experience  String
  description String
  skills      String
  recruiterId String
  applicants  Applicant[]
}

model Applicant {
  id     String @id @default(auto()) @map("_id") @db.ObjectId
  name   String
  email  String
  userId String
  status String
  job    Job    @relation(fields: [jobId], references: [id])
  jobId  String @db.ObjectId
}

model Application {
  id                 String   @id @default(auto()) @map("_id") @db.ObjectId
  recruiterUserID    String
  name               String
  email              String
  candidateUserID    String
  status             String
  jobID              String
  jobApplicationDate DateTime @default(now())
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model Profile {
  id                  String    @id @default(auto()) @map("_id") @db.ObjectId
  userId              String
  role                Role
  email               String
  isPremiumUser       Boolean
  memberShipType      String?
  memberShipStartDate DateTime?
  memberShipEndDate   DateTime?

  // Recruiter specific fields
  recruiterName        String?
  recruiterCompanyName String?
  recruiterCompanyRole String?

  // Candidate specific fields
  documentPhoto        String?
  resume               String?
  candidateName        String?
  currentCompany       String?
  currentJobLocation   String?
  preferredJobLocation String?
  currentSalary        String?
  noticePeriod         String?
  skills               String?
  totalExperience      String?
  collegeLocation      String?
  graduatedYear        String?
  linkedinProfile      String?
  isCandidatePremium   Boolean?
}

enum Role {
  RECRUITER
  CANDIDATE
}
